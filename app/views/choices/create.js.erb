function addDates() {
  const insertDates = document.querySelector('.selecteddates');
  insertDates.insertAdjacentHTML('beforebegin', '<p class="dates-title">Your chosen dates</p>');
    "<% current_user.events.last.polls.last.choices.each do |choice| %>"
      insertDates.insertAdjacentHTML('beforeend', '<div class="carddate col-xs-6 col-sm-4">From <%= choice.start_date %> </br> To <%= choice.end_date %></div>');
    "<% end %>"
}

function deleteEmptyDates() {
  const deleteDates = document.querySelectorAll('.carddate');
  deleteDates.forEach((el) => {
    if (el.innerText.length < 10) {
      el.remove();
    }
  })
};

function refreshForm(innerHTML) {
  const newEventForm = document.querySelector('.modal-content');
  newEventForm.outerHTML = innerHTML;
}

refreshForm('<%= j render "choices/formdateschoice" %>');
"<% if @choice.choice_type == "date" && !current_user.events.last.polls.last.choices.empty? %>"
  addDates();
  deleteEmptyDates();
"<% end %>"

window.initFlatpickr();
